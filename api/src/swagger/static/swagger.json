{"swagger": "2.0", "info": {"title": "WiCHacker Manager API", "description": "", "termsOfService": "", "version": "0.0"}, "host": "", "basePath": "", "schemes": [], "consumes": [], "produces": [], "paths": {"/user": {"post": {"tags": ["users"], "description": "Create a new user", "responses": {"200": {"description": "User Created Successfully", "schema": {"$ref": "#/definitions/UserResponseModel"}}}, "parameters": [{"name": "body", "description": "Request body", "in": "body", "schema": {"$ref": "#/definitions/ShortenedUserModel"}, "required": true}]}, "get": {"tags": ["users"], "description": "Get information from user. Defaults to self if user_id not provided", "parameters": [{"name": "user_id", "description": "Optional WiCHacks User ID", "required": false, "in": "path", "type": "integer"}], "responses": {"200": {"description": "User Information"}}}}, "/user/id/{user_id}": {"get": {"tags": ["users"], "description": "Get information from user. Defaults to self if user_id not provided", "parameters": [{"name": "user_id", "description": "Optional WiCHacks User ID", "required": false, "in": "path", "type": "integer"}], "responses": {"200": {"description": "User Information"}}}}, "/user/application": {"post": {"tags": ["applications"], "description": "Create a new application", "responses": {"200": {"description": "Application saved"}}, "parameters": [{"name": "body", "description": "Request body", "in": "body", "schema": {"$ref": "#/definitions/ApplicationCreationModel"}, "required": true}]}, "put": {"tags": ["applications"], "description": "Update an existing application based on user id. If application status is changed will send out appropriate email", "responses": {"200": {"description": "Application updated"}}, "parameters": [{"name": "body", "description": "Request body", "in": "body", "schema": {"$ref": "#/definitions/ApplicationUpdateModel"}, "required": true}], "summary": "UserID in body is the user id of the user that will be updated"}}, "/statistics": {"get": {"tags": ["statistics"], "description": "Get statistics for the event", "responses": {"200": {"description": "event statistics", "examples": {"application/json": {"applications": {"APPLIED": 13, "ACCEPTED": 5, "CONFIRMED": 2, "REJECTED": 1}, "schools": {"School1": 3, "School2": 1, "School3": 1, "School4": 1, "School5": 1}, "schoolCount": 5, "shirts": {}, "busStops": {"School 1": 1, "School 2": 1, "School 3": 1}, "isVirtual": {"null": 1, "1": 6}}}}}}}, "/email": {"post": {"tags": ["emails"], "description": "Send email to hackers based on application status", "responses": {"200": {"description": "All emails sent successfully"}, "500": {"description": "DB querying or email sending failure", "schema": {"$ref": "#/definitions/EmailPartialFailureResponseModel"}}}, "parameters": [{"name": "body", "description": "Request body", "in": "body", "schema": {"$ref": "#/definitions/EmailModel"}, "required": true}]}}, "/email/preset/{emailName}": {"post": {"tags": ["emails"], "description": "Send a preset email", "parameters": [{"name": "emailName", "description": "Name of preset email to send. Ex: \"ACCEPTED\",\"REJECTED\",\"CONFIRMED\"", "required": true, "in": "path", "type": "string"}], "responses": {"200": {"description": "Emails successfully sent"}, "500": {"description": "DB querying or email sending failure", "schema": {"$ref": "#/definitions/EmailPartialFailureResponseModel"}}}}}, "/user/application/confirm": {"post": {"tags": ["applications"], "description": "Update application status to confirmed if able", "responses": {"200": {"description": "Application Status Updated Successfully"}}, "summary": "Update user application status to CONFIRMED"}}, "/discord": {"post": {"tags": ["discord"], "description": "callback endpoint from discord integration to connect WiCHacks Hacker with a Discord User", "parameters": [{"name": "code", "description": "Discord auth code", "required": true, "in": "query", "type": "string"}, {"name": "state", "description": "Encoded WiCHacks user id to ensure no attacks on the hacker", "required": true, "in": "query", "type": "string"}], "responses": {"200": {"description": "integration successful"}}, "summary": "2nd part of discord oauth integration to retrieve hacker's discord id"}, "get": {"tags": ["discord"], "description": "Get redirect to discord authorization page", "parameters": [{"name": "id", "description": "WiCHacks User ID", "required": true, "in": "query", "type": "integer"}], "responses": {"302": {"description": "redirecting user"}}}}, "/discord/user/{discord_id}": {"get": {"tags": ["discord"], "description": "Get statistics for the event", "responses": {"200": {"description": "event statistics", "examples": {"application/json": {"first_name": "alexander", "last_name": "levie", "status": "CONFIRMED"}}}}}}}, "definitions": {"UserResponseModel": {"type": "object", "properties": {"user_id": {"type": "integer"}}}, "ShortenedUserModel": {"type": "object", "properties": {"firstName": {"name": "firstName", "description": null, "required": true, "type": "string"}, "lastName": {"name": "lastName", "description": null, "required": true, "type": "string"}, "email": {"name": "email", "description": null, "required": true, "type": "string"}, "phoneNumber": {"name": "phoneNumber", "description": "format agnostic phone number", "required": true, "type": "string"}}}, "ApplicationCreationModel": {"type": "object", "properties": {"major": {"name": "major", "description": null, "required": true, "type": "string"}, "levelOfStudy": {"name": "levelOfStudy", "description": null, "required": true, "type": "string"}, "age": {"name": "age", "description": null, "required": true, "type": "integer"}, "shirtSize": {"name": "shirtSize", "description": null, "required": true, "type": "string"}, "hasAttendedWiCHacks": {"name": "hasAttendedWiCHacks", "description": null, "required": true, "type": "boolean"}, "hasAttendedHackathons": {"name": "hasAttendedHackathons", "description": null, "required": true, "type": "boolean"}, "university": {"name": "university", "description": null, "required": true, "type": "string"}, "gender": {"name": "gender", "description": null, "required": true, "type": "string"}, "busRider": {"name": "busRider", "description": null, "required": true, "type": "boolean"}, "busStop": {"name": "busStop", "description": null, "required": false, "type": "string"}, "dietaryRestrictions": {"name": "dietaryRestrictions", "description": null, "required": false, "type": "string"}, "specialAccommodations": {"name": "specialAccommodations", "description": null, "required": false, "type": "string"}, "affirmedAgreements": {"name": "affirmedAgreements", "description": null, "required": true, "type": "boolean"}, "isVirtual": {"name": "isVirtual", "description": null, "required": true, "type": "boolean"}, "mlhEmailsAllowed": {"name": "mlhEmailsAllowed", "description": null, "required": false, "type": "boolean"}}}, "ApplicationUpdateModel": {"type": "object", "properties": {"userId": {"name": "userId", "description": null, "required": true, "type": "integer"}, "status": {"name": "status", "description": null, "required": false, "type": "string"}, "major": {"name": "major", "description": null, "required": false, "type": "string"}, "levelOfStudy": {"name": "levelOfStudy", "description": null, "required": false, "type": "string"}, "age": {"name": "age", "description": null, "required": false, "type": "integer"}, "shirtSize": {"name": "shirtSize", "description": null, "required": false, "type": "string"}, "hasAttendedWiCHacks": {"name": "hasAttendedWiCHacks", "description": null, "required": false, "type": "boolean"}, "hasAttendedHackathons": {"name": "hasAttendedHackathons", "description": null, "required": false, "type": "boolean"}, "university": {"name": "university", "description": null, "required": false, "type": "string"}, "gender": {"name": "gender", "description": null, "required": false, "type": "string"}, "busRider": {"name": "busRider", "description": null, "required": false, "type": "boolean"}, "busStop": {"name": "busStop", "description": null, "required": false, "type": "string"}, "dietaryRestrictions": {"name": "dietaryRestrictions", "description": null, "required": false, "type": "string"}, "specialAccommodations": {"name": "specialAccommodations", "description": null, "required": false, "type": "string"}, "affirmedAgreements": {"name": "affirmedAgreements", "description": null, "required": false, "type": "boolean"}, "isVirtual": {"name": "isVirtual", "description": null, "required": false, "type": "boolean"}, "mlhEmailsAllowed": {"name": "mlhEmailsAllowed", "description": null, "required": false, "type": "boolean"}}}, "EmailPartialFailureResponseModel": {"type": "object", "properties": {"failedEmailAddresses": {"type": "array", "items": {"type": "string"}, "description": "list of email addresses that failed to send or None if failure occurred before emails were sent"}, "message": {"type": "string", "description": "what happened"}}}, "EmailModel": {"type": "object", "properties": {"body": {"name": "body", "description": "in-line styled HTML body of email to be sent", "required": true, "type": "string"}, "subjectLine": {"name": "subjectLine", "description": null, "required": true, "type": "string"}, "recipientStatusFilter": {"name": "recipientStatusFilter", "description": "csv list of statuses of hackers that will get the email", "required": true, "items": {"type": "string"}, "type": "array"}}}}, "parameters": {}, "responses": {}, "securityDefinitions": {}, "security": [], "tags": [], "externalDocs": {}}